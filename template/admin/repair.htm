<!--<?php
include_once PrintEot('left');
if (empty($action)){print <<<EOT
-->
<h3><b>提示信息</b></h3>
<ul class="tr5">修复表 : 此操作可修复数据库在进行查询，删除，更新等操作时产生的错误<br>优化表 : 此操作可优化数据库表结构，以获得更好的数据库运行效率</ul>

<form action="$basename&" method=post>
<h2>数据库优化</h2>
<table width="100%" cellspacing="0" cellpadding="0">
<tr class="tr3 s3" align="center">
	<td width="5%">ID</td>
	<td>数据库表</td>
	<td width="8%">选择</td>
</tr>
<!--
EOT;
$id=0;
foreach($pwdb as $key => $value){
if($tabledb[$key]!='pw_online'){
$id++;print <<<EOT
-->
<tr class="tr3">
	<td align="center">$id</td>
	<td>$value</td>
	<td align="center"><input type="checkbox" name="tabledb[]" value="$tabledb[$key]"></td>
</tr>
<!--
EOT;
}}print <<<EOT
-->
</table>
<br>
<center>
	<input type="radio" name="action" value="repair">修复表
	<input type="radio" name="action" value="optimize" checked>优化表<br><br>
	<input type="button" class="btn" name="chkall" value="全 选" onclick="CheckAll(this.form)">
	<input type="submit" class="btn" value='提 交'>
</center>
</form>
<br>
<form action="$basename&" method=post>
<h2>非PHPWind数据库表 (站点插件或其他系统的数据库表)</h2>
<table width="100%" cellspacing="0" cellpadding="0">
<tr class="tr3 s3" align="center">
	<td width="5%">ID</td>
	<td>数据库表</td>
	<td width="8%">选择</td>
</tr>
<!--
EOT;
$id=0;
foreach($otherdb as $value){
$id++;print <<<EOT
-->
<tr class="tr3">
	<td align="center">$id</td>
	<td>$value</td>
	<td align="center"><input type="checkbox" name="tabledb[]" value="$value"></td>
</tr>
<!--
EOT;
}print <<<EOT
-->
</table>
<br>
<center>
	<input type="radio" name="action" value="repair">修复表
	<input type="radio" name="action" value="optimize" checked>优化表<br><br>
	<input type="button" class="btn" name="chkall" value="全 选" onclick="CheckAll(this.form)">
	<input type="submit" class="btn" value='提 交'>
</center>
</form>
<br/>
<!--
EOT;
} else{print <<<EOT
-->
<h2><b>数据库优化信息</b></h2>
<table width="100%" cellspacing="0" cellpadding="0">
<tr class="tr3 s3" align="center"><td width=20%>数据库表</td>
<td width=20%>操作</td><td>信息</td></tr>
<!--
EOT;
foreach($msgdb as $msg){
print <<<EOT
-->
<tr class="tr3"><td align="center">$msg[Table]</td><td align="center">$msg[Op]</td>
<td align=left>$msg[Msg_type]:$msg[Msg_text]</td></tr>
<!--
EOT;
}print <<<EOT
-->
</table>
<!--
EOT;
}include_once PrintEot('adminbottom');
?>-->